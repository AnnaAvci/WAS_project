{% extends 'base.html.twig' %}

{% block title %}Messages{% endblock %}

{% block body %}

            <div class="messages">  
                <h2>Inbox({{ app.user.received|length }})</h2>
        
            <div class="message-table">
            <h3><a href="{{path("sent",{id: user.id})}}" class="btn">Sent messages</a></h3>

            <table class="table table-striped">
                <thead>
                <tr>
                    <th>From</th>
                    <th>Date</th>
                    <th>Message</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody>
                    <tr>
                    {% for message in user.received %}
                        {% set bold = "" %}
                        {% if message.isRead == 0 %}
                        {% set bold = "fw-bold" %}
                    {% endif %}

                    <td>{{ message.sender.firstName }}</td>
                    <td>{{ message.createdAt|date }}</td>
                    <td><a href="{{ path("read", {id: message.id}) }}">{{ message.text }}</a></td>
                    <td><a href="{{ path("delete", {id: message.id}) }}"><i class="fa fa-trash" aria-hidden="true"></i></a></td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
            </div>
       </div>  
{% endblock %}


