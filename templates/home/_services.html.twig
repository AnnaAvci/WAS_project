{% block body %}
	

{% for service in services %}

	<a class="" href="{{ path('show_service', {'id': service.id }) }}">

	<div class="card-and-desc">
		<div class="card">
			<img src={{ asset("uploads/" ~ service.photoServices[0].namePhoto )}} alt="photoshoot" />
		</div>
		<h3 class="h3">
			<strong>{{service.nameService}}</strong>, {{service.countryService}}, {{service.cityService}}
			<br />
		{{service.priceService}} $ per hour
		<a href="{{path("service_like", {'id': service.id})}}" class="btn btn-link js-like">
				<span class="js-likes">{{service.likes | length }}</span>

				{% if app.user and service.isLikedByUser(app.user) %}
					<i class="fa-solid fa-heart"></i>
				{% else %}
					<i class="fa-regular fa-heart"></i>
				{% endif %}
			</a>
		</h3>
	</div>
	</a> 

{% endfor %}

{% endblock %}

{% block javascripts %}
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
	<script>

        /*function onClickBtnLike(event) {
            event.preventDefault();

            const url = this.href;
            const spanCount = this.querySelector('span.js-likes');
            const icone = this.querySelector('i');

            axios.get(url).then(function(response) {
            spanCount.textContent = response.data.likes;

            if (icone.classList.contains('fa-solid')) 
			{
                icone.classList.replace('fa-solid', 'fa-regular')
            } else {
                icone.classList.replace('fa-regular', 'fa-solid');
            }
            }).catch(function (error) {
            if (error.response.status === 403) {
                window.alert("Please log in to like a post")
            }
            });
		}

            document.querySelectorAll('a.js-like').forEach(function(link) {
            link.addEventListener('click', onClickBtnLike);
        })*/
	</script>
{% endblock %}
